  <html>
<head>
  <title>xlagauchex</title>

  <style>
    body {margin: 0; }
  canvas
  {
    width: 100%;
    height: 100%;
  }
  </style>
</head>

<body>

  <script src="js/three.js"></script>
  <script src="js/OrbitControls.js"></script>
  <script src="js/FlyControls.js"></script>
  <script src="js/PointerLockControls.js"></script>
  <script src="js/ParametricGeometries.js"></script>

  <script>
  var scene = new THREE.Scene( );
  var camera = new THREE.PerspectiveCamera ( 75, window.innerWidth / window.innerHeight, 0.1, 1000);

var renderer = new THREE.WebGLRenderer ( );
renderer.setSize( window.innerWidth, window.innerHeight );
document.body.appendChild ( renderer.domElement );

window.addEventListener ( 'resize', function( )
{
  var width = window.innerWidth;
  var height = window.innerHeight;
  renderer.setSize( width, height );
  camera.aspect = width / height;
  camera.updateProjectionMatrix( );

} );

controls = new THREE.OrbitControls( camera,renderer.domElement );

//laptop
var loader = new THREE.ObjectLoader( );
loader.load( 'models/laptop/laptopnowin.json', function ( object )
  {
    object.position.set( 0, -4, 12 );
    object.scale.set( 4, 4, 4);
    scene.add( object );
  }
);

//Create an AudioListener and add it to the camera
var listener = new THREE.AudioListener();
camera.add( listener );

//Create the PositionalAudio object (passing in the listener)
var sound1 = new THREE.PositionalAudio( listener );

//Load a sound and set it as the PositionalAudio object's buffer
var audioLoader = new THREE.AudioLoader();
audioLoader.load( 'sounds/Love_1.mp3', function( buffer )
  {
	   sound1.setBuffer( buffer );
	   sound1.setRefDistance( 4 );
	   sound1.play();
  }
);

  // create the shape
  var geometry = new THREE.IcosahedronGeometry( 1, 1, 1 );
  var IcosahedronMaterial = new THREE.MeshLambertMaterial ( { map:
  new THREE.TextureLoader( ).load( 'img/internalFlesh.jpg' ), side: THREE.DoubleSide } );

  // create a material, colour or image texture

  var material = new THREE.MeshLambertMaterial( IcosahedronMaterial );
  var Icosahedron = new THREE.Mesh( geometry, material );
  scene.add( Icosahedron );

  // add a sound to the Mesh
  Icosahedron.add( sound1 );

  camera.position.z = 3;

  // Ceiling
  var ceilingGeometry = new THREE.CubeGeometry( 10, 0.001, 10);
  var ceilingMaterial = new THREE.MeshPhongMaterial( { map: new THREE.TextureLoader( ).load ('img/clouds.jpg'), side:
  THREE.DoubleSide } );
  var ceilingCube = new THREE.Mesh( ceilingGeometry, ceilingMaterial );
  ceilingCube.position.y = 1.5;
  scene.add( ceilingCube );

  var ambientLight = new THREE.AmbientLight( 0xFFFFFF, 0.8);
  scene.add( ambientLight );

  var light1 = new THREE.PointLight (0xFFFFFF, 1, 50);
  scene.add( light1 );

  var light2 = new THREE.PointLight (0xFFFFFF, 1, 50);
  scene.add( light2 );

  var light3 = new THREE.PointLight (0xFF00FFF, 1, 50);
  scene.add( light3 );
  //light3.position.set( 0, 1, 0);

  // game logic
  var update = function ( )
  {
    Icosahedron.rotation.x += 0.02;
    Icosahedron.rotation.y += 0.005;

    var time = Date.now( ) * 0.0005;

    light1.position.x = Math.sin( time * 2) * 30;
    light1.position.y = Math.cos( time * 8) * 40;
    light1.position.z = Math.cos( time * 4) * 30;

    light2.position.x = Math.cos( time * 3) * 30;
    light2.position.y = Math.sin( time * 7) * 40;
    light2.position.z = Math.sin( time * 10) * 30;

    light3.position.x = Math.sin( time * 3) * 30;
    light3.position.y = Math.cos( time * 4) * 40;
    light3.position.z = Math.sin( time * 5) * 30;
  };

  //draw Scene
  var render = function ( )
  {
    renderer.render(scene, camera);

  };

//run game loop (update, render, repeat)

  var GameLoop = function ()
  {
    requestAnimationFrame ( GameLoop );

    update ( );
    render( );
  };

GameLoop( );

</script>
</body>
</html>
